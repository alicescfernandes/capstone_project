{
  "version": 3,
  "sources": ["../../../src/js/page_uploads.js"],
  "sourcesContent": ["FilePond.registerPlugin(FilePondPluginFileValidateType);\r\n\r\nFilePond.create(document.querySelector('#filepond'), {\r\n    allowMultiple: true,\r\n    storeAsFile: true,\r\n    acceptedFileTypes: [\r\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n        'application/vnd.ms-excel'\r\n    ],\r\n    fileValidateTypeDetectType: (source, type) =>\r\n        new Promise((resolve) => {\r\n            const name = source.name.toLowerCase();\r\n\r\n            if (name.endsWith('.xls')) {\r\n                return resolve('application/vnd.ms-excel');\r\n            }\r\n\r\n            if (name.endsWith('.xlsx')) {\r\n                return resolve('application/vnd.openxmlformats-officedocument.spreadsheetml.sheet');\r\n            }\r\n\r\n            resolve(type);\r\n        }),\r\n    // labelFileTypeNotAllowed: 'Apenas ficheiros Excel (.xls, .xlsx) s\u00E3o permitidos.',\r\n    // fileValidateTypeLabelExpectedTypes: 'Tipos permitidos: {allTypes}'\r\n});\r\n\r\nexport function openEditModal(button) {\r\n    const uuid = button.getAttribute('data-quarter-id');\r\n    const number = button.getAttribute('data-quarter-number');\r\n\r\n    const form = document.getElementById('edit-quarter-form');\r\n    const input = document.getElementById('edit-quarter-number');\r\n\r\n    input.value = number;\r\n    form.action = `/quarters/edit/${uuid}/`;\r\n}\r\n\r\n// Attach event listener to the document (delegation)\r\ndocument.addEventListener(\"click\", (e) => {\r\n    const target = e.target.closest('.upload-edit-link');\r\n    if (target) {\r\n        console.log(\"click\");\r\n        openEditModal(target);\r\n    }\r\n});"],
  "mappings": ";;AAAA,WAAS,eAAe,8BAA8B;AAEtD,WAAS,OAAO,SAAS,cAAc,WAAW,GAAG;AAAA,IACjD,eAAe;AAAA,IACf,aAAa;AAAA,IACb,mBAAmB;AAAA,MACf;AAAA,MACA;AAAA,IACJ;AAAA,IACA,4BAA4B,CAAC,QAAQ,SACjC,IAAI,QAAQ,CAAC,YAAY;AACrB,YAAM,OAAO,OAAO,KAAK,YAAY;AAErC,UAAI,KAAK,SAAS,MAAM,GAAG;AACvB,eAAO,QAAQ,0BAA0B;AAAA,MAC7C;AAEA,UAAI,KAAK,SAAS,OAAO,GAAG;AACxB,eAAO,QAAQ,mEAAmE;AAAA,MACtF;AAEA,cAAQ,IAAI;AAAA,IAChB,CAAC;AAAA;AAAA;AAAA,EAGT,CAAC;AAEM,WAAS,cAAc,QAAQ;AAClC,UAAM,OAAO,OAAO,aAAa,iBAAiB;AAClD,UAAM,SAAS,OAAO,aAAa,qBAAqB;AAExD,UAAM,OAAO,SAAS,eAAe,mBAAmB;AACxD,UAAM,QAAQ,SAAS,eAAe,qBAAqB;AAE3D,UAAM,QAAQ;AACd,SAAK,SAAS,kBAAkB,IAAI;AAAA,EACxC;AAGA,WAAS,iBAAiB,SAAS,CAAC,MAAM;AACtC,UAAM,SAAS,EAAE,OAAO,QAAQ,mBAAmB;AACnD,QAAI,QAAQ;AACR,cAAQ,IAAI,OAAO;AACnB,oBAAc,MAAM;AAAA,IACxB;AAAA,EACJ,CAAC;",
  "names": []
}
