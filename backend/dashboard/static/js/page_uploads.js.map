{
  "version": 3,
  "sources": ["../../../src/js/page_uploads.js"],
  "sourcesContent": ["FilePond.registerPlugin(FilePondPluginFileValidateType);\r\n\r\nFilePond.create(document.querySelector('#filepond'), {\r\n    allowMultiple: true,\r\n    storeAsFile: true,\r\n    acceptedFileTypes: [\r\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n        'application/vnd.ms-excel'\r\n    ],\r\n    fileValidateTypeDetectType: (source, type) =>\r\n        new Promise((resolve) => {\r\n            const name = source.name.toLowerCase();\r\n\r\n            if (name.endsWith('.xls')) {\r\n                return resolve('application/vnd.ms-excel');\r\n            }\r\n\r\n            if (name.endsWith('.xlsx')) {\r\n                return resolve('application/vnd.openxmlformats-officedocument.spreadsheetml.sheet');\r\n            }\r\n\r\n            resolve(type);\r\n        }),\r\n    // labelFileTypeNotAllowed: 'Apenas ficheiros Excel (.xls, .xlsx) s\u00E3o permitidos.',\r\n    // fileValidateTypeLabelExpectedTypes: 'Tipos permitidos: {allTypes}'\r\n});\r\n\r\nexport function openEditModal(button) {\r\n    const uuid = button.getAttribute('data-quarter-id');\r\n    const number = button.getAttribute('data-quarter-number');\r\n\r\n    const form = document.getElementById('edit-quarter-form');\r\n    const input = document.getElementById('edit-quarter-number');\r\n\r\n    input.value = number;\r\n    form.action = `/quarters/edit/${uuid}/`;\r\n}\r\n\r\n// Attach event listener to the document (delegation)\r\ndocument.addEventListener(\"click\", (e) => {\r\n    const target = e.target.closest('.upload-edit-link');\r\n    if (target) {\r\n        openEditModal(target);\r\n    }\r\n});"],
  "mappings": "MAAA,SAAS,eAAe,8BAA8B,EAEtD,SAAS,OAAO,SAAS,cAAc,WAAW,EAAG,CACjD,cAAe,GACf,YAAa,GACb,kBAAmB,CACf,oEACA,0BACJ,EACA,2BAA4B,CAACA,EAAQC,IACjC,IAAI,QAASC,GAAY,CACrB,IAAMC,EAAOH,EAAO,KAAK,YAAY,EAErC,GAAIG,EAAK,SAAS,MAAM,EACpB,OAAOD,EAAQ,0BAA0B,EAG7C,GAAIC,EAAK,SAAS,OAAO,EACrB,OAAOD,EAAQ,mEAAmE,EAGtFA,EAAQD,CAAI,CAChB,CAAC,CAGT,CAAC,EAEM,SAASG,EAAcC,EAAQ,CAClC,IAAMC,EAAOD,EAAO,aAAa,iBAAiB,EAC5CE,EAASF,EAAO,aAAa,qBAAqB,EAElDG,EAAO,SAAS,eAAe,mBAAmB,EAClDC,EAAQ,SAAS,eAAe,qBAAqB,EAE3DA,EAAM,MAAQF,EACdC,EAAK,OAAS,kBAAkBF,CAAI,GACxC,CAGA,SAAS,iBAAiB,QAAU,GAAM,CACtC,IAAMI,EAAS,EAAE,OAAO,QAAQ,mBAAmB,EAC/CA,GACAN,EAAcM,CAAM,CAE5B,CAAC",
  "names": ["source", "type", "resolve", "name", "openEditModal", "button", "uuid", "number", "form", "input", "target"]
}
