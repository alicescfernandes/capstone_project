(()=>{FilePond.registerPlugin(FilePondPluginFileValidateType);var d=FilePond.create(document.querySelector("#filepond"),{allowMultiple:!0,storeAsFile:!0,acceptedFileTypes:["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"],fileValidateTypeDetectType:(e,t)=>new Promise(n=>{let i=e.name.toLowerCase();if(i.endsWith(".xls"))return n("application/vnd.ms-excel");if(i.endsWith(".xlsx"))return n("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet");n(t)})});function s(e){let t=e.getAttribute("data-quarter-id"),n=e.getAttribute("data-quarter-number"),i=e.getAttribute("data-modal-title"),r=document.getElementById("edit-quarter-form"),c=document.getElementById("edit-quarter-number"),a=document.getElementById("edit-quarter-precision"),l=document.getElementById("modal-title");l.textContent=i!=null?i:"Edit Files",c.value=n,a.value="9",t==="new"?r.action="/quarters/new/":(r.action=`/quarters/edit/${t}/`,fetch(`/api/quarters?q=${n}`).then(o=>o.json()).then(o=>{o.float_precision&&(a.value=o.float_precision)}).catch(o=>console.error("Error fetching quarter precision:",o)))}document.addEventListener("click",e=>{let t=e.target.closest(".upload-edit-link");t&&s(t)});document.addEventListener("click",e=>{e.target.classList.contains("upload-close-modal")&&(document.getElementById("edit-quarter-form").reset(),d.removeFiles())});})();
//# sourceMappingURL=page_uploads.js.map
