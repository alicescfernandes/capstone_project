%%________________________________________________________________________
%% LEIM | PROJETO
%% 2022 / 2013 / 2012
%% Modelo para relatório
%% v04: alteração ADEETC para DEETC; outros ajustes
%% v03: correção de gralhas
%% v02: inclui anexo sobre utilização sistema controlo de versões
%% v01: original
%% PTS / MAR.2022 / MAI.2013 / 23.MAI.2012 (construído)
%%________________________________________________________________________
\chapter{Tabelas de Requisitos Funcionais e Não Funcionais}
\label{ch:tabRequisitos}

\textbf{Requisitos Funcionais}

\begin{itemize}
\item \textbf{Visíveis}: São funções obrigatórias que devem estar presentes e ser visíveis para o utilizador. Representam ações diretamente acessíveis ou observáveis na interface da aplicação.

\item \textbf{Invisíveis}: Também obrigatórias, mas não visíveis para o utilizador final. Estas funções dizem respeito a comportamentos internos do sistema, como validações, persistência de dados ou processamento em segundo plano.
\end{itemize}

Os requisitos estão ordenados de acordo com a sua prioridade.

\begin{table}[H]
\centering
\begin{tabular}{|l|p{7cm}|l|}
\hline
\textbf{Requisito} & \textbf{Função} & \textbf{Categoria} \\
\hline
R1.1 & Permitir criação de conta - utilizador único & Visível \\
R1.2 & Permitir login & Visível \\
\hline
\end{tabular}
\caption{Requisitos de Autenticação}
\label{tab:requisitosAutenticacao}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|l|p{7cm}|l|}
\hline
\textbf{Requisito} & \textbf{Função} & \textbf{Categoria} \\
\hline
R2.1 & Permitir upload de ficheiros & Visível \\
R2.2 & Associar ficheiros carregados a trimestres & Invisível \\
\hline
\end{tabular}
\caption{Requisitos de Gestão de Ficheiros}
\label{tab:requisitosFicheiros}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|l|p{7cm}|l|}
\hline
\textbf{Requisito} & \textbf{Função} & \textbf{Categoria} \\
\hline
R3.1 & Permitir eliminação de ficheiros carregados & Visível \\
R3.2 & Permitir criação de trimestres identificados por ``\textit{Quarter N}'' & Visível \\
R3.3 & Listar todos os trimestres do utilizador & Visível \\
\hline
\end{tabular}
\caption{Requisitos de Gestão de Trimestres}
\label{tab:requisitosTrimestres}
\end{table}

\begin{table}[H]
\centering
\begin{tabular}{|l|p{7cm}|l|}
\hline
\textbf{Requisito} & \textbf{Função} & \textbf{Categoria} \\
\hline
R4.1 & Visualizar gráficos & Visível \\
R4.2 & Aplicar filtros & Visível \\
\hline
\end{tabular}
\caption{Requisitos de Visualização de Dados}
\label{tab:requisitosVisualizacao}
\end{table}

\textbf{Requisitos Não-Funcionais}
Os atributos do sistema, também designados por requisitos não funcionais, representam as características que a aplicação deve exibir durante a sua utilização. Tal como os requisitos funcionais, estes estão organizados em categorias distintas, de forma a informar sobre o seu impacto no desenvolvimento da aplicação. As principais categorias consideradas são as seguintes:

\begin{itemize}
\item \textbf{Obrigatórios}: a aplicação deve cumprir estes requisitos. Estão geralmente associados a restrições técnicas ou de contexto, como desempenho, segurança, compatibilidade entre plataformas ou integridade dos dados.

\item \textbf{Desejáveis} — São requisitos que, embora não sejam críticos para o funcionamento do sistema, representam funcionalidades adicionais ou melhorias que poderão ser implementadas numa fase posterior. a aplicação deve estar preparado para os acomodar, caso se decida avançar com a sua implementação.
\end{itemize}

Os requisitos estão ordenados de acordo com a sua prioridade.
\begin{table}[H]
    \centering
    \begin{tabular}{|l|p{7cm}|l|}
    \hline
    \textbf{Atributo} & \textbf{Detalhe / Restrição - Fronteira} & \textbf{Categoria} \\
    \hline
    Usabilidade & Detalhe - Interface intuitiva & Obrigatório \\
    Usabilidade & Detalhe - Carregamento de gráficos em sem bloquear o utilizador (\textit{lazy load}) & Obrigatório \\
    Usabilidade & Detalhe - Suporte para múltiplos \textit{browsers} & Obrigatório \\
    Segurança & Detalhe - Autenticação e Contas & Obrigatório \\
    Segurança & Fronteira - Cada utilizador só pode aceder aos seus dados & Obrigatório \\
    Segurança & Detalhe - Garantir que a aplicação só permite ficheiros com formato previsto & Obrigatório \\
    Performance & Detalhe - Suporte para múltiplos utilizadores sem degradação significativa & Desejável \\
    Performance & Detalhe - Resposta rápida às interações do utilizador & Obrigatório \\
    Acessibilidade & Detalhe - Tem de ser navegável por teclado e \textit{screen-reader} \textit{friendly} & Obrigatório \\
    Dados & Normalizar os dados que recebe de forma a serem apresentáveis & Obrigatório \\

    \hline
    \end{tabular}
    \caption{Tabela de Requisitos Não Funcionais}
    \label{tab:requisitosNaofuncionais}
    \end{table}

\chapter{Comparação de gráficos suportados pelo \textit{Plotly} e \textit{Chart.js}}
\label{ch:charts}

\begin{table}[H]
\centering
\caption{Comparação de tipos de gráficos suportados por \textit{Plotly}.js e \textit{Chart.js}}
\begin{tabular}{|l|c|c|}
\hline
\textbf{Tipo de Gráfico} & \textbf{\textit{Plotly.js}} & \textbf{\textit{Chart.js}} \\
\hline
Barras                         & Suportado & Suportado \\
Linhas                         & Suportado & Suportado \\
Dispersão (Scatter)            & Suportado & Suportado \\
Circular (Pie)                 & Suportado & Suportado \\
Área                           & Suportado & Suportado \\
Radar                          & Suportado & Suportado \\
Histograma                     & Suportado & Suportado \\
Box Plot                       & Suportado & Não Suportado \\
Mapa de Calor (Heatmap)        & Suportado & Não Suportado \\
Cascata (Waterfall)            & Suportado & Não Suportado \\
Indicadores (Gauges)           & Suportado & Não Suportado \\
Candlestick (Finanças)         & Suportado & Não Suportado \\
OHLC (Finanças)                & Suportado & Não Suportado \\
Treemap                        & Suportado & Não Suportado \\
Sunburst                       & Suportado & Não Suportado \\
Violin                         & Suportado & Não Suportado \\
Mapa (Geo)                     & Suportado & Não Suportado \\
\hline
\end{tabular}
\label{tab:charts}
\end{table}

\chapter{Controlo de Versões e GitHub}

O controlo de versões é essencial em projetos de de desenvolvimento de \textit{software}, uma vez que permite acompanhar alterações ao código, colaborar com várias pessoas e garantir a consistência do código ao longo do tempo. No contexto deste projeto, usamos controlo de versões durante a implementação da plataforma, para permitir uma evolução controlada do código.

A aplicação de controlo de versões que decidimos usar foi o \textit{Git}, que é uma tecnologia utilizada no setor e uma das mais antigas e mais bem suportadas. O \textit{Git} permite criar \textit{branches}, o que facilita o desenvolvimento em paralelo de novas funcionalidades sem interferir com a versão principal da aplicação.

Durante o desenvolvimento da plataforma, esta capacidade de criar \textit{branches} foi útil para testar funcionalidades específicas como o processamento dos ficheiros, integrar a gestão de utilizadores no código já existente, e para desenvolver a funcionalidade de carregamento e normalização dos dados. Cada conjunto de funcionalidades foram desenvolvidas de forma isolada, permitindo testes controlados e evitando conflitos no código principal. Uma \textit{branch} é uma cópia isolada do código de um repositório, onde podemos desenvolver novas funcionalidades, corrigir erros ou testar alterações sem afetar a versão principal (geralmente chamada de \textit{master}).

Além do \textit{Git}, foi utilizado o \textit{GitHub}. O \textit{GitHub} é uma serviço \textit{cloud} que permite partilhar repositórios \textit{Git}, e estende o processo de colaboração com a funcionalidade como o acompanhamento de tarefas e \textit{issues}. No desenvolvimento do projeto utilizámos \textit{branches} para conseguir desenvolver as funcionalidades de forma isolada. 

Após cada \textit{commit} para o \textit{branch} principal é corrido um \textit{workflow} que automaticamente atualiza a versão do código que corre dentro da \gls{vps} que usamos para fazer o correr a aplicação (o nosso ambiente de produção). Este \textit{workflow} liga-se por \gls{ssh} ao servidor, puxa a última versão do \textit{branch} principal, e reinicia os \textit{containers} da aplicação, aplicando as alterações aos modelos de dados e aos ficheiros estáticos.

\chapter{Cenários \textit{Gherkin}}
\label{ch:cenariosGherkin}

Em seguida, apresentam-se os cenários \textit{Gherkin} que foram utilizados para testar a aplicação.

\begin{lstlisting}[language=Gherkin]
Scenario: Creating an account
    Given I access the page 
    And I don't have an account or logged in
    Then I should see the "Create Account" link
    When I click the "Create Account" link
    Then I should be redirected to the "Create Account" form
    And I should see the username field
    And I should see the password filed
    And I should see the confirm password field
    When I fill that form
    And I click "Save"
    Then I should be redirected to the "Login" page
\end{lstlisting}



\begin{lstlisting}[language=Gherkin]
Background:
	Given that I have an account

Scenario: Login on the app
	When access the \textit{web}site
	And I am not logged in
	Then I should see the Login page
	And I should see the username field
	And I should see the password filed
	When I fill that form with my login details
	And I click "Save"
	Then I should be redirected to the "Home" page
\end{lstlisting}
    
\begin{lstlisting}[language=Gherkin]
Background:
	Given that I have an account
	And I am logged in on the application

Scenario: Uploading Q1 files
	When I access the "Uploads" page  
	And I click on "Upload files" button 
	Then the upload modal appears 
	When i click on the upload files box
	And I upload all files from Q1 folder
	And I click "Save"
	Then I should see the files that i just uploaded on the page
	When I navigate to the "Home" page
	Then I should see charts. 
	And I should be able to zoom on the chart
	
Scenario: Uploading Q2 files
	When I access the "Uploads" page  
	And I click on "Upload files" button 
	Then the upload modal appears 
	When i click on the upload files box
	And I upload all files from Q2 folder
	And I confirm that the "Quarter Number" has the value of "2".
	And I click "Save"
	Then I should see the files that i just uploaded on the page
	When I navigate to the "Home" page
	Then I should see charts
	And on the "Customer  Needs" chart, i should be able to navigate to Q1.
	And I should be able to zoom on the chart
\end{lstlisting}

\begin{lstlisting}[language=Gherkin]
    Background:  
	Given that I have an account
	And I am logged in on the application
	And I have uploaded files to the platform
 
Scenario: Removing a file
	When I navigate to the "Uploads" page  
	Then I should see the files that i already uploaded
	When I click on X button on the file "Customer Needs"
	Then the file is removed from the quarter
	And I should not see charts from that file
	
Scenario: Removing a quarter
	When I navigate to the "Uploads" page  
	Then I should see the files that i already uploaded
	And I should see a "Delete" button.
	When I click on the "Delete" button
	Then I should see all of the files from that section removed 
\end{lstlisting}

